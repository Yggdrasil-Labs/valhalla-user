# Dependabot Configuration
# åŸºäºé¡¹ç›®å®é™…ä¾èµ–é…ç½®ï¼Œä»…ç›‘æ§å®é™…ä½¿ç”¨çš„ä¾èµ–
version: 2
updates:
  # Maven ä¾èµ–æ›´æ–°
  - package-ecosystem: "maven"
    directory: "/"
    schedule:
      interval: "weekly"
      day: "saturday"
      time: "13:00"
    open-pull-requests-limit: 10
    reviewers:
      - "YoungerYang-Y"
    assignees:
      - "YoungerYang-Y"
    commit-message:
      prefix: "chore"
      include: "scope"
    labels:
      - "ğŸ“¦ deps"
    # å¿½ç•¥ä¸»è¦ç‰ˆæœ¬æ›´æ–°ï¼ˆç ´åæ€§å˜æ›´ï¼‰
    ignore:
      # Mimir Boot æ¡†æ¶ä¸»è¦ç‰ˆæœ¬æ›´æ–°éœ€è¦æ‰‹åŠ¨å¤„ç†
      - dependency-name: "com.yggdrasil.labs:mimir-boot-parent"
        update-types: ["version-update:semver-major"]
      - dependency-name: "com.yggdrasil.labs:mimir-boot-bom"
        update-types: ["version-update:semver-major"]
      - dependency-name: "com.yggdrasil.labs:mimir-boot-starter-*"
        update-types: ["version-update:semver-major"]
      # COLA æ¶æ„ç»„ä»¶ä¸»è¦ç‰ˆæœ¬æ›´æ–°
      - dependency-name: "com.alibaba.cola:cola-components-bom"
        update-types: ["version-update:semver-major"]
      # æ•°æ®åº“é©±åŠ¨ä¸»è¦ç‰ˆæœ¬æ›´æ–°
      - dependency-name: "com.mysql:mysql-connector-j"
        update-types: ["version-update:semver-major"]
      # MapStruct ä¸»è¦ç‰ˆæœ¬æ›´æ–°
      - dependency-name: "org.mapstruct:*"
        update-types: ["version-update:semver-major"]
      # Java ç‰ˆæœ¬ç›¸å…³æ›´æ–°
      - dependency-name: "org.apache.maven.plugins:maven-compiler-plugin"
        update-types: ["version-update:semver-major"]
    # å…è®¸çš„æ›´æ–°ç±»å‹
    allow:
      - dependency-type: "direct"
      - dependency-type: "indirect"
    # åˆ†ç»„ç›¸å…³ä¾èµ–
    groups:
      # Mimir Boot æ¡†æ¶ï¼ˆè°¨æ…æ›´æ–°ï¼Œä»…å…è®¸è¡¥ä¸ç‰ˆæœ¬ï¼‰
      mimir-boot:
        patterns:
          - "com.yggdrasil.labs:mimir-boot-*"
        update-types: ["patch"]
      # COLA æ¶æ„ç»„ä»¶ï¼ˆè°¨æ…æ›´æ–°ï¼Œä»…å…è®¸è¡¥ä¸ç‰ˆæœ¬ï¼‰
      cola:
        patterns:
          - "com.alibaba.cola:*"
        update-types: ["patch"]
      # æ•°æ®åº“ç›¸å…³
      database:
        patterns:
          - "com.mysql:*"
        update-types: ["minor", "patch"]
      # æµ‹è¯•æ¡†æ¶
      testing:
        patterns:
          - "junit:*"
          - "org.junit.jupiter:*"
          - "org.mockito:*"
        update-types: ["minor", "patch"]
      # å·¥å…·ç±»
      utilities:
        patterns:
          - "org.projectlombok:*"
          - "cn.hutool:*"
          - "com.alibaba:fastjson"
        update-types: ["minor", "patch"]
      # å¯¹è±¡æ˜ å°„
      mapping:
        patterns:
          - "org.mapstruct:*"
        update-types: ["minor", "patch"]
      # Validation ç›¸å…³
      validation:
        patterns:
          - "javax.validation:*"
          - "javax.el:*"
          - "org.glassfish:jakarta.el"
        update-types: ["minor", "patch"]
      # Maven æ’ä»¶
      maven-plugins:
        patterns:
          - "org.apache.maven.plugins:*"
          - "org.codehaus.mojo:*"
          - "org.jacoco:jacoco-maven-plugin"
          - "com.github.spotbugs:spotbugs-maven-plugin"
        update-types: ["minor", "patch"]

  # GitHub Actions æ›´æ–°
  - package-ecosystem: "github-actions"
    directory: "/"
    schedule:
      interval: "weekly"
      day: "monday"
      time: "09:00"
    open-pull-requests-limit: 5
    reviewers:
      - "YoungerYang-Y"
    assignees:
      - "YoungerYang-Y"
    commit-message:
      prefix: "ci"
      include: "scope"
    labels:
      - "ğŸ§° infra"